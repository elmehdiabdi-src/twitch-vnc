ffmpeg started on 2024-01-17 at 17:39:58
Report written to "ffmpeg-20240117-173958.log"
Log level: 48
Command line:
ffmpeg -report -re -y -f pulse -ac 2 -i default -f x11grab -framerate 24 -video_size 1280x720 -draw_mouse 0 -i :0 -map 1:v -map 0:a -c:v libx264 -c:a aac -pix_fmt yuv420p -preset medium -b:v 4M -maxrate 4M -bufsize 8M -strict -2 -g 48 -r 24 -flags +global_header -t 5 -f flv "rtmps://live-api-s.facebook.com:443/rtmp/******?*****"
ffmpeg version n6.1 Copyright (c) 2000-2023 the FFmpeg developers
  built with gcc 13.2.1 (GCC) 20230801
  configuration: --prefix=/usr --disable-debug --disable-static --disable-stripping --enable-amf --enable-avisynth --enable-cuda-llvm --enable-lto --enable-fontconfig --enable-frei0r --enable-gmp --enable-gnutls --enable-gpl --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libdav1d --enable-libdrm --enable-libfreetype --enable-libfribidi --enable-libgsm --enable-libharfbuzz --enable-libiec61883 --enable-libjack --enable-libjxl --enable-libmodplug --enable-libmp3lame --enable-libopencore_amrnb --enable-libopencore_amrwb --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libplacebo --enable-libpulse --enable-librav1e --enable-librsvg --enable-librubberband --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtheora --enable-libv4l2 --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpl --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxcb --en  libavutil      58. 29.100 / 58. 29.100
  libavcodec     60. 31.102 / 60. 31.102
  libavformat    60. 16.100 / 60. 16.100
  libavdevice    60.  3.100 / 60.  3.100
  libavfilter     9. 12.100 /  9. 12.100
  libswscale      7.  5.100 /  7.  5.100
  libswresample   4. 12.100 /  4. 12.100
  libpostproc    57.  3.100 / 57.  3.100
Splitting the commandline.
Reading option '-report' ... matched as option 'report' (generate a report) with argument '1'.
Reading option '-re' ... matched as option 're' (read input at native frame rate; equivalent to -readrate 1) with argument '1'.
Reading option '-y' ... matched as option 'y' (overwrite output files) with argument '1'.
Reading option '-f' ... matched as option 'f' (force format) with argument 'pulse'.
Reading option '-ac' ... matched as option 'ac' (set number of audio channels) with argument '2'.
Reading option '-i' ... matched as output url with argument 'default'.
Reading option '-f' ... matched as option 'f' (force format) with argument 'x11grab'.
Reading option '-framerate' ... matched as AVOption 'framerate' with argument '24'.
Reading option '-video_size' ... matched as AVOption 'video_size' with argument '1280x720'.
Reading option '-draw_mouse' ... matched as AVOption 'draw_mouse' with argument '0'.
Reading option '-i' ... matched as output url with argument ':0'.
Reading option '-map' ... matched as option 'map' (set input stream mapping) with argument '1:v'.
Reading option '-map' ... matched as option 'map' (set input stream mapping) with argument '0:a'.
Reading option '-c:v' ... matched as option 'c' (codec name) with argument 'libx264'.
Reading option '-c:a' ... matched as option 'c' (codec name) with argument 'aac'.
Reading option '-pix_fmt' ... matched as option 'pix_fmt' (set pixel format) with argument 'yuv420p'.
Reading option '-preset' ... matched as AVOption 'preset' with argument 'medium'.
Reading option '-b:v' ... matched as option 'b' (video bitrate (please use -b:v)) with argument '4M'.
Reading option '-maxrate' ... matched as AVOption 'maxrate' with argument '4M'.
Reading option '-bufsize' ... matched as AVOption 'bufsize' with argument '8M'.
Reading option '-strict' ...Routing option strict to both codec and muxer layer
 matched as AVOption 'strict' with argument '-2'.
Reading option '-g' ... matched as AVOption 'g' with argument '48'.
Reading option '-r' ... matched as option 'r' (set frame rate (Hz value, fraction or abbreviation)) with argument '24'.
Reading option '-flags' ... matched as AVOption 'flags' with argument '+global_header'.
Reading option '-t' ... matched as option 't' (record or transcode "duration" seconds of audio/video) with argument '5'.
Reading option '-f' ... matched as option 'f' (force format) with argument 'flv'.
Reading option 'rtmps://live-api-s.facebook.com:443/rtmp/******?*****' ... matched as output url.
Finished splitting the commandline.
Parsing a group of options: global .
Applying option report (generate a report) with argument 1.
Applying option y (overwrite output files) with argument 1.
Successfully parsed a group of options.
Parsing a group of options: input url default.
Applying option re (read input at native frame rate; equivalent to -readrate 1) with argument 1.
Applying option f (force format) with argument pulse.
Applying option ac (set number of audio channels) with argument 2.
Successfully parsed a group of options.
Opening an input file: default.
[pulse @ 0x559e8079a600] All info found
[aist#0:0/pcm_s16le @ 0x559e807c5500] Guessed Channel Layout: stereo
Input #0, pulse, from 'default':
  Duration: N/A, start: 1705513198.079571, bitrate: 1536 kb/s
  Stream #0:0, 1, 1/1000000: Audio: pcm_s16le, 48000 Hz, 2 channels, s16, 1536 kb/s
Successfully opened the file.
Parsing a group of options: input url :0.
Applying option f (force format) with argument x11grab.
Successfully parsed a group of options.
Opening an input file: :0.
[x11grab @ 0x559e807c5f00] Probe buffer size limit of 5000000 bytes reached
[x11grab @ 0x559e807c5f00] Stream #0: not enough frames to estimate rate; consider increasing probesize
Input #1, x11grab, from ':0':
  Duration: N/A, start: 1705513198.185568, bitrate: 707788 kb/s
  Stream #1:0, 2, 1/1000000: Video: rawvideo (BGR[0] / 0x524742), bgr0, 1280x720, 707788 kb/s, 24 fps, 1000k tbr, 1000k tbn
Successfully opened the file.
Parsing a group of options: output url rtmps://live-api-s.facebook.com:443/rtmp/******?*****.
Applying option map (set input stream mapping) with argument 1:v.
Applying option map (set input stream mapping) with argument 0:a.
Applying option c:v (codec name) with argument libx264.
Applying option c:a (codec name) with argument aac.
Applying option pix_fmt (set pixel format) with argument yuv420p.
Applying option b:v (video bitrate (please use -b:v)) with argument 4M.
Applying option r (set frame rate (Hz value, fraction or abbreviation)) with argument 24.
Applying option t (record or transcode "duration" seconds of audio/video) with argument 5.
Applying option f (force format) with argument flv.
Successfully parsed a group of options.
Opening an output file: rtmps://live-api-s.facebook.com:443/rtmp/******?*****.
[out#0/flv @ 0x559e807ce240] Adding streams from explicit maps...
[vost#0:0/libx264 @ 0x559e807cf780] Created video stream from input stream 1:0
[aost#0:1/aac @ 0x559e807d2c40] Created audio stream from input stream 0:0
[rtmps @ 0x559e807d5840] No default whitelist set
[tls @ 0x559e807d5d40] No default whitelist set
[tcp @ 0x559e807d5f40] No default whitelist set
[tcp @ 0x559e807d5f40] Original list of addresses:
[tcp @ 0x559e807d5f40] Address 157.240.212.5 port 443
[tcp @ 0x559e807d5f40] Interleaved list of addresses:
[tcp @ 0x559e807d5f40] Address 157.240.212.5 port 443
[tcp @ 0x559e807d5f40] Starting connection attempt to 157.240.212.5 port 443
[tcp @ 0x559e807d5f40] Successfully connected to 157.240.212.5 port 443
[rtmps @ 0x559e807d5840] Handshaking...
[rtmps @ 0x559e807d5840] Type answer 3
[rtmps @ 0x559e807d5840] Server version 1.0.5.4
[rtmps @ 0x559e807d5840] Proto = rtmps, path = /rtmp/******?*****, app = rtmp, fname = ******?*****
[rtmps @ 0x559e807d5840] Window acknowledgement size = 5000000
[rtmps @ 0x559e807d5840] Max sent, unacked = 5000000
[rtmps @ 0x559e807d5840] New incoming chunk size = 4096
[rtmps @ 0x559e807d5840] Releasing stream...
[rtmps @ 0x559e807d5840] FCPublish stream...
[rtmps @ 0x559e807d5840] Creating stream...
[rtmps @ 0x559e807d5840] Sending publish command for '******?*****'
[tls @ 0x559e807d5d40] Error in the pull function.
[tls @ 0x559e807d5d40] IO error: End of file
[out#0/flv @ 0x559e807ce240] Error opening output rtmps://live-api-s.facebook.com:443/rtmp/******?*****: Input/output error
Error opening output file rtmps://live-api-s.facebook.com:443/rtmp/******?*****.
Error opening output files: Input/output error
[aist#0:0/pcm_s16le @ 0x559e807c5500] Decoder thread received EOF packet
[aist#0:0/pcm_s16le @ 0x559e807c5500] Decoder returned EOF, finishing
[aist#0:0/pcm_s16le @ 0x559e807c5500] Terminating decoder thread
[vist#1:0/rawvideo @ 0x559e807ce5c0] Decoder thread received EOF packet
[vist#1:0/rawvideo @ 0x559e807ce5c0] Decoder returned EOF, finishing
[vist#1:0/rawvideo @ 0x559e807ce5c0] Terminating decoder thread
